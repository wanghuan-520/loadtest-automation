# ç»Ÿä¸€æ€§èƒ½å‹æµ‹è‡ªåŠ¨åŒ–æ¡†æ¶

## ğŸ¯ æ¡†æ¶å®šä½

è¿™æ˜¯ä¸€ä¸ª**ç»Ÿä¸€çš„æ€§èƒ½å‹æµ‹æ¡†æ¶**ï¼ŒåŸºäºk6å¼•æ“æ„å»ºï¼Œæä¾›æ ‡å‡†åŒ–çš„æ€§èƒ½éªŒè¯å’Œå‹åŠ›æµ‹è¯•èƒ½åŠ›ã€‚æ¡†æ¶è®¾è®¡å…·å¤‡å®Œæ•´çš„æ‰©å±•æ€§ï¼Œå¯é€‚é…ä»»ä½•HTTP APIçš„æ€§èƒ½æµ‹è¯•éœ€æ±‚ã€‚

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
- **ç»Ÿä¸€æ€§**: æ ‡å‡†åŒ–çš„æµ‹è¯•ç­–ç•¥ã€æŒ‡æ ‡ä½“ç³»å’ŒæŠ¥å‘Šæ ¼å¼
- **æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¿«é€Ÿæ‰©å±•æ–°çš„APIæµ‹è¯•åœºæ™¯  
- **é€šç”¨æ€§**: ç¯å¢ƒæ— å…³çš„é…ç½®é©±åŠ¨æ¶æ„
- **è‡ªåŠ¨åŒ–**: å®Œæ•´çš„æµ‹è¯•æ‰§è¡Œå’ŒæŠ¥å‘Šç”Ÿæˆè‡ªåŠ¨åŒ–æµç¨‹

### å½“å‰å®ç°è¦†ç›–
- **GodGPT Guest API**: å®Œæ•´çš„GuestèŠå¤©æ¥å£å‹æµ‹å®ç°
- **SSEæµå¼å“åº”**: ä¸“é—¨ä¼˜åŒ–çš„æœåŠ¡å™¨å‘é€äº‹ä»¶å‹æµ‹æ”¯æŒ
- **å¤šç»´åº¦æµ‹è¯•**: Baseline/Ramp/Spikeä¸‰ç»´æµ‹è¯•ç­–ç•¥
- **æ™ºèƒ½æŠ¥å‘Š**: åŒé‡æŠ¥å‘Šç³»ç»Ÿ(åŸå§‹æ•°æ®+å¯è§†åŒ–åˆ†æ)

## ğŸ—ï¸ ç»Ÿä¸€æ¶æ„è®¾è®¡

### æ ¸å¿ƒæ¨¡å—æ¶æ„
```
loadtest-automation/
â”œâ”€â”€ ğŸ”§ config/                    # ç»Ÿä¸€ç¯å¢ƒé…ç½®å±‚
â”‚   â”œâ”€â”€ env.dev.json              # å¼€å‘ç¯å¢ƒé…ç½® (å½“å‰å¯ç”¨)
â”‚   â”œâ”€â”€ env.prod.json            # ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿ (éœ€è‡ªå®šä¹‰)
â”‚   â””â”€â”€ test-data.json           # æµ‹è¯•æ•°æ®é…ç½® (10æ¡å†¥æƒ³ç›¸å…³æ¶ˆæ¯)
â”œâ”€â”€ ğŸ§ª scripts/stress/            # å¯æ‰©å±•å‹æµ‹è„šæœ¬é›†åˆ
â”‚   â”œâ”€â”€ guest-*.js               # Guest APIæµ‹è¯•å¥—ä»¶ (å½“å‰å®ç°)
â”‚   â”œâ”€â”€ [future-api]-*.js        # æœªæ¥APIæµ‹è¯•å¥—ä»¶ (æ‰©å±•ä½)
â”‚   â”œâ”€â”€ generate-core-report.js  # é€šç”¨æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â””â”€â”€ *.sh                     # æ‰¹é‡æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ ğŸ“Š outputs/                   # K6åŸå§‹è¾“å‡ºç›®å½•
â”œâ”€â”€ ğŸ“ˆ reports/                   # HTMLæŠ¥å‘Šç›®å½•
â””â”€â”€ ğŸ“‹ requirements/             # æµ‹è¯•éœ€æ±‚æ–‡æ¡£åº“
    â””â”€â”€ performance-tests/        # æŒ‰APIåˆ†ç±»çš„æ€§èƒ½éœ€æ±‚
        â”œâ”€â”€ godgpt/              # GodGPTç›¸å…³éœ€æ±‚
        â””â”€â”€ [future-apis]/       # æœªæ¥APIéœ€æ±‚ (æ‰©å±•ä½)
```

### æŠ€æœ¯æ ˆä¸èƒ½åŠ›
- **æµ‹è¯•å¼•æ“**: k6 (é«˜æ€§èƒ½è´Ÿè½½æµ‹è¯•å·¥å…·)
- **è„šæœ¬è¯­è¨€**: JavaScript ES6+ (ç›´è§‚çš„æµ‹è¯•è„šæœ¬å¼€å‘)
- **é…ç½®ç³»ç»Ÿ**: JSONé©±åŠ¨çš„ç¯å¢ƒé…ç½®ç®¡ç†
- **æŒ‡æ ‡ç³»ç»Ÿ**: K6å†…ç½®æŒ‡æ ‡ + è‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡
- **æŠ¥å‘Šç³»ç»Ÿ**: åŒé‡æŠ¥å‘Š(JSONåŸå§‹æ•°æ® + HTMLå¯è§†åŒ–)
- **æ¶æ„è®¾è®¡**: ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½ï¼Œé¿å…è¿‡åº¦æŠ½è±¡

## ğŸ§¬ ç»Ÿä¸€æµ‹è¯•ç­–ç•¥ä½“ç³»

### ä¸‰ç»´æµ‹è¯•æ¨¡å‹ (Universal Testing Dimensions)

æ‰€æœ‰APIæµ‹è¯•éƒ½éµå¾ªç»Ÿä¸€çš„ä¸‰ç»´æµ‹è¯•ç­–ç•¥ï¼š

#### 1. **Baseline åŸºçº¿æµ‹è¯•**
```javascript
// ç»Ÿä¸€é…ç½®æ¨¡æ¿
scenarios: {
  baseline_test: {
    executor: 'constant-vus',
    vus: 1,              // å•ç”¨æˆ·åŸºçº¿
    duration: '60s',     // æ ‡å‡†1åˆ†é’Ÿ
  }
}
```
- **ç›®çš„**: å»ºç«‹æ€§èƒ½åŸºçº¿ï¼ŒéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§
- **é€‚ç”¨**: æ‰€æœ‰æ–°APIçš„åˆå§‹æ€§èƒ½éªŒè¯
- **è¾“å‡º**: åŸºç¡€æ€§èƒ½æŒ‡æ ‡å’ŒåŠŸèƒ½å®Œæ•´æ€§æŠ¥å‘Š

#### 2. **Ramp é˜¶æ¢¯é€’å¢æµ‹è¯•**
```javascript
// ç»Ÿä¸€é€’å¢æ¨¡æ¿
scenarios: {
  ramp_test: {
    executor: 'ramping-vus',
    stages: [
      { duration: '30s', target: 50 },   // ç¬¬ä¸€é˜¶æ¢¯
      { duration: '5m', target: 50 },    // ç¨³å®šè§‚å¯Ÿ
      { duration: '30s', target: 100 },  // ç¬¬äºŒé˜¶æ¢¯
      { duration: '5m', target: 100 },   // ç¨³å®šè§‚å¯Ÿ
      // ... å¯é…ç½®æ‰©å±•
    ],
  }
}
```
- **ç›®çš„**: å¯»æ‰¾ç³»ç»Ÿæ€§èƒ½æ‹ç‚¹å’Œå®¹é‡è¾¹ç•Œ
- **é€‚ç”¨**: æ‰€æœ‰éœ€è¦å®¹é‡è§„åˆ’çš„API
- **è¾“å‡º**: æ€§èƒ½æ‹ç‚¹åˆ†æå’Œæ‰©å®¹å»ºè®®

#### 3. **Spike ç¬æ—¶å‹åŠ›æµ‹è¯•**
```javascript
// ç»Ÿä¸€å†²å‡»æ¨¡æ¿
scenarios: {
  spike_test: {
    executor: 'ramping-vus',
    stages: [
      { duration: '10s', target: 0 },    // é™é»˜æœŸ
      { duration: '10s', target: 200 },  // ç¬æ—¶å†²å‡»
      { duration: '5m', target: 200 },   // é«˜å‹ç»´æŒ
      { duration: '10s', target: 0 },    // å¿«é€Ÿæ¢å¤
    ],
  }
}
```
- **ç›®çš„**: éªŒè¯ç³»ç»ŸæŠ—å†²å‡»èƒ½åŠ›å’Œå¼¹æ€§æ¢å¤
- **é€‚ç”¨**: æ‰€æœ‰é¢ä¸´çªå‘æµé‡çš„API
- **è¾“å‡º**: ç³»ç»Ÿå¼¹æ€§åˆ†æå’Œæ•…éšœæ¢å¤èƒ½åŠ›è¯„ä¼°

## ğŸ¯ å½“å‰å®ç° - GodGPT Guest API

### ä¸»è¦æµ‹è¯•æ¥å£
1. **`/godgpt/guest/create-session`** - Guestä¼šè¯åˆ›å»ºæ¥å£
2. **`/godgpt/guest/chat`** - GuestèŠå¤©æ¥å£ (æ”¯æŒSSEæµå¼å“åº”)

### ç»Ÿä¸€æ€§èƒ½æŒ‡æ ‡æ ‡å‡†
| æŒ‡æ ‡ç±»å‹ | é˜ˆå€¼æ ‡å‡† | éªŒè¯ç›®çš„ | æ‰©å±•æ€§ |
|---------|---------|---------|---------|
| å¹³å‡å“åº”æ—¶é—´ | â‰¤ 200ms | ç”¨æˆ·ä½“éªŒè´¨é‡ | å¯æŒ‰APIè°ƒæ•´ |
| P95å“åº”æ—¶é—´ | â‰¤ 10s | æç«¯æƒ…å†µå“åº”èƒ½åŠ› | é€šç”¨æ ‡å‡† |
| é”™è¯¯ç‡ | â‰¤ 0.1% | ç³»ç»Ÿç¨³å®šæ€§ | é€šç”¨æ ‡å‡† |
| APIæˆåŠŸç‡ | â‰¥ 99% | æ ¸å¿ƒåŠŸèƒ½å¯ç”¨æ€§ | é€šç”¨æ ‡å‡† |
| ååé‡ | åŠ¨æ€æµ‹å®š | ç³»ç»Ÿå¤„ç†èƒ½åŠ› | æŒ‰éœ€ç¡®å®š |

## ğŸ”§ æ ¸å¿ƒæµ‹è¯•æ¨¡å—

### æµ‹è¯•è„šæœ¬ç»“æ„
æ¯ä¸ªæµ‹è¯•è„šæœ¬éƒ½åŒ…å«ï¼š
- ğŸ“Š **è‡ªå®šä¹‰æŒ‡æ ‡å®šä¹‰**ï¼šé’ˆå¯¹å…·ä½“APIçš„æ€§èƒ½æŒ‡æ ‡
- ğŸ”§ **é…ç½®åŠ è½½**ï¼šç¯å¢ƒé…ç½®å’Œæµ‹è¯•æ•°æ®åŠ è½½
- ğŸ¯ **æµ‹è¯•é€»è¾‘**ï¼šå®Œæ•´çš„APIæµ‹è¯•æµç¨‹
- âœ… **éªŒè¯æœºåˆ¶**ï¼šåŸºäºk6åŸç”Ÿcheck()çš„å“åº”éªŒè¯

### æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆå™¨ (`generate-core-report.js`)
- **è‡ªé€‚åº”è§£æ**: è‡ªåŠ¨è¯†åˆ«ä¸åŒAPIçš„æµ‹è¯•ç»“æœæ ¼å¼
- **æ ‡å‡†åŒ–æŒ‡æ ‡**: æå–ç»Ÿä¸€çš„æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡
- **å¯è§†åŒ–æ¨¡æ¿**: é€šç”¨çš„HTMLæŠ¥å‘Šæ¨¡æ¿
- **æ‰©å±•æ¥å£**: æ”¯æŒè‡ªå®šä¹‰æŒ‡æ ‡å’Œå›¾è¡¨ç±»å‹

## ğŸš€ ä½¿ç”¨æŒ‡å—

### æ¡†æ¶åˆå§‹åŒ–

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…k6æµ‹è¯•å¼•æ“
brew install k6  # macOS
# æˆ–
curl -sSL https://get.k6.io | sudo bash  # Linux

# éªŒè¯å®‰è£…
k6 version
```

#### 2. ç¯å¢ƒé…ç½®
```bash
# æŸ¥çœ‹å½“å‰å¼€å‘ç¯å¢ƒé…ç½®
cat config/env.dev.json

# è‡ªå®šä¹‰ç”Ÿäº§ç¯å¢ƒé…ç½® (æ¨¡æ¿å·²æä¾›)
vim config/env.prod.json

# æŸ¥çœ‹/è‡ªå®šä¹‰æµ‹è¯•æ•°æ® (å·²åŒ…å«10æ¡å†¥æƒ³ç›¸å…³æ¶ˆæ¯)
vim config/test-data.json
```

**ğŸ“ é‡è¦è¯´æ˜:**
- `env.dev.json`: å·²é…ç½®GodGPTå¼€å‘ç¯å¢ƒï¼Œå¯ç›´æ¥ä½¿ç”¨
- `env.prod.json`: æä¾›äº†æ¨¡æ¿ï¼Œéœ€è¦æ ¹æ®å®é™…ç”Ÿäº§ç¯å¢ƒè¿›è¡Œé…ç½®
- `test-data.json`: åŒ…å«10æ¡å¤šæ ·åŒ–çš„å†¥æƒ³å¯¹è¯æµ‹è¯•æ•°æ®

#### 3. é…ç½®éªŒè¯
```bash
# éªŒè¯æ‰€æœ‰é…ç½®æ–‡ä»¶å¯ä»¥æ­£å¸¸åŠ è½½
node -e "console.log('âœ… env.dev.json:', JSON.parse(require('fs').readFileSync('config/env.dev.json', 'utf8')).baseUrl)"
node -e "console.log('âœ… env.prod.json:', JSON.parse(require('fs').readFileSync('config/env.prod.json', 'utf8')).baseUrl)"  
node -e "console.log('âœ… test-data.json:', JSON.parse(require('fs').readFileSync('config/test-data.json', 'utf8')).messages.length + ' messages loaded')"

# é¢„æœŸè¾“å‡ºç¤ºä¾‹ï¼š
# âœ… env.dev.json: https://station-developer-staging.aevatar.ai/godgptpressure-client/api
# âœ… env.prod.json: https://production-api.example.com/api
# âœ… test-data.json: 10 messages loaded
```

### å½“å‰å®ç° - Guest APIæµ‹è¯•

#### å•é¡¹æµ‹è¯•æ‰§è¡Œ
```bash
# åŸºçº¿æ€§èƒ½æµ‹è¯•
k6 run scripts/stress/guest-chat-baseline-test.js
k6 run scripts/stress/guest-create-session-baseline-test.js

# é˜¶æ¢¯å‹åŠ›æµ‹è¯•  
k6 run scripts/stress/guest-chat-ramp-test.js
k6 run scripts/stress/guest-create-session-ramp-test.js

# ç¬æ—¶å†²å‡»æµ‹è¯•
k6 run scripts/stress/guest-chat-spike-test.js
k6 run scripts/stress/guest-create-session-spike-test.js
```

#### æ‰¹é‡æµ‹è¯•å¥—ä»¶
```bash
# è¿è¡Œå®Œæ•´Guest APIæµ‹è¯•å¥—ä»¶
./scripts/stress/run-all-guest-tests.sh

# è¿è¡Œå®Œæ•´æµ‹è¯•åºåˆ—ï¼ˆåŒ…å«æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆï¼‰
./scripts/stress/run-complete-test.sh

# è¿è¡Œå‚æ•°åŒ–Spikeæµ‹è¯•åºåˆ—
./scripts/stress/run-spike-sequence.sh "100 200 300" "5m"
```

### é€šç”¨æµ‹è¯•å‚æ•°åŒ–

#### ç¯å¢ƒå˜é‡é©±åŠ¨
```bash
# åˆ‡æ¢æµ‹è¯•ç¯å¢ƒ
ENVIRONMENT=prod k6 run scripts/stress/guest-chat-baseline-test.js

# è‡ªå®šä¹‰å¹¶å‘å‚æ•°
VUS=50 DURATION=300s k6 run scripts/stress/guest-chat-ramp-test.js

# å¤šå‚æ•°ç»„åˆ
ENVIRONMENT=dev VUS_COUNT=100 TEST_DURATION=10m k6 run scripts/stress/guest-create-session-spike-test.js
```

## ğŸ”§ æ¡†æ¶æ‰©å±•æŒ‡å—

### æ–°å¢APIæµ‹è¯•çš„æ ‡å‡†æµç¨‹

#### 1. åˆ›å»ºæµ‹è¯•è„šæœ¬
```bash
# æŒ‰ç»Ÿä¸€å‘½åè§„èŒƒåˆ›å»ºæ–°APIæµ‹è¯•è„šæœ¬
# [api-name]-[test-type]-test.js

# ç¤ºä¾‹ï¼šç”¨æˆ·è®¤è¯API
touch scripts/stress/user-auth-baseline-test.js
touch scripts/stress/user-auth-ramp-test.js  
touch scripts/stress/user-auth-spike-test.js
```

#### 2. é…ç½®ç¯å¢ƒå‚æ•°
```json
// config/env.dev.json æ‰©å±•ç¤ºä¾‹
{
  "baseUrl": "https://api.example.com",
  "userAuth": {
    "endpoint": "/auth/login",
    "testCredentials": {
      "username": "test@example.com",
      "password": "testpassword"
    }
  }
}
```

#### 3. å®ç°æµ‹è¯•é€»è¾‘
```javascript
// æ–°APIæµ‹è¯•è„šæœ¬æ¨¡æ¿
import http from 'k6/http';
import { check } from 'k6';
import { Rate, Trend } from 'k6/metrics';

// å®šä¹‰è‡ªå®šä¹‰æŒ‡æ ‡
const apiSuccessRate = new Rate('api_success_rate');
const response = http.post(url, payload, params);

// ä½¿ç”¨k6åŸç”ŸéªŒè¯
check(response, {
  'status is 200': (r) => r.status === 200,
});
```

### è‡ªå®šä¹‰æŒ‡æ ‡æ‰©å±•
```javascript
// ä¸ºæ–°APIå®šä¹‰ç‰¹å®šçš„ä¸šåŠ¡æŒ‡æ ‡
import { Rate, Trend } from 'k6/metrics';

const loginSuccessRate = new Rate('login_success_rate');
const authTokenDuration = new Trend('auth_token_duration');

// åœ¨æµ‹è¯•ä¸­ä½¿ç”¨è‡ªå®šä¹‰æŒ‡æ ‡
loginSuccessRate.add(isLoginSuccess);
authTokenDuration.add(tokenValidationTime);
```

## ğŸ“Š ç»Ÿä¸€æµ‹è¯•ç»“æœåˆ†æ

### æ™ºèƒ½åŒé‡æŠ¥å‘Šç³»ç»Ÿ

#### 1. K6åŸå§‹æ•°æ®å±‚
- **ä½ç½®**: `outputs/[test-name]-results.json`
- **æ ¼å¼**: æ ‡å‡†åŒ–JSON
- **å†…å®¹**: å®Œæ•´çš„k6åº¦é‡æ•°æ®ï¼ŒåŒ…æ‹¬æ‰€æœ‰HTTPè¯·æ±‚è¯¦æƒ…å’Œè‡ªå®šä¹‰æŒ‡æ ‡
- **ç”¨é€”**: æ·±åº¦åˆ†æã€æ•°æ®æŒ–æ˜ã€è·¨æµ‹è¯•å¯¹æ¯”ã€è‡ªå®šä¹‰æŠ¥å‘Šç”Ÿæˆ

#### 2. æ™ºèƒ½å¯è§†åŒ–å±‚
- **ä½ç½®**: `reports/core-metrics-report-[test-name]-[timestamp].html`
- **æ ¼å¼**: äº¤äº’å¼HTMLä»ªè¡¨æ¿
- **æ ¸å¿ƒå†…å®¹**: 
  - ğŸ“ˆ æ€§èƒ½è¶‹åŠ¿å›¾è¡¨å’Œçƒ­åŠ›å›¾
  - ğŸ“Š å…³é”®æŒ‡æ ‡æ±‡æ€»å’Œå¯¹æ¯”åˆ†æ
  - ğŸ¯ é˜ˆå€¼è¾¾æˆæƒ…å†µå’ŒSLAç›‘æ§
  - ğŸ’¡ AIé©±åŠ¨çš„æ€§èƒ½ä¼˜åŒ–å»ºè®®
  - ğŸ”„ å†å²å¯¹æ¯”å’Œæ€§èƒ½å›å½’æ£€æµ‹
- **ç”¨é€”**: å¿«é€Ÿå†³ç­–ã€å›¢é˜Ÿåä½œã€ç®¡ç†å±‚æ±‡æŠ¥

### é€šç”¨æŒ‡æ ‡ä½“ç³»

#### æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡ (æ‰€æœ‰APIé€šç”¨)
- **http_req_duration**: HTTPè¯·æ±‚æ€»è€—æ—¶åˆ†å¸ƒ (avg/p95/max)
- **http_req_waiting**: æœåŠ¡å™¨å“åº”ç­‰å¾…æ—¶é—´
- **http_req_sending**: è¯·æ±‚å‘é€æ—¶é—´
- **http_req_receiving**: å“åº”æ¥æ”¶æ—¶é—´
- **http_reqs**: æ€»è¯·æ±‚æ•°å’Œååé‡(RPS)

#### ç³»ç»Ÿç¨³å®šæ€§æŒ‡æ ‡ (ç»Ÿä¸€æ ‡å‡†)
- **error_rate**: ç»Ÿä¸€é”™è¯¯ç‡ç»Ÿè®¡
- **vus_max**: å³°å€¼å¹¶å‘ç”¨æˆ·æ•°
- **iterations**: æ€»æµ‹è¯•è¿­ä»£æ¬¡æ•°
- **data_sent/received**: ç½‘ç»œä¼ è¾“é‡ç»Ÿè®¡

#### ä¸šåŠ¡ç‰¹å®šæŒ‡æ ‡ (å¯æ‰©å±•)
```javascript
// Guest API å½“å‰æŒ‡æ ‡
- session_creation_success_rate: ä¼šè¯åˆ›å»ºæˆåŠŸç‡
- chat_response_success_rate: èŠå¤©å“åº”æˆåŠŸç‡  
- chat_response_duration: èŠå¤©å“åº”ä¸“ç”¨è€—æ—¶
- end_to_end_duration: ç«¯åˆ°ç«¯å®Œæ•´æµç¨‹è€—æ—¶

// æœªæ¥APIæŒ‡æ ‡æ‰©å±•ç¤ºä¾‹
- user_login_success_rate: ç”¨æˆ·ç™»å½•æˆåŠŸç‡
- payment_processing_duration: æ”¯ä»˜å¤„ç†è€—æ—¶
- file_upload_throughput: æ–‡ä»¶ä¸Šä¼ ååé‡
```

### æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆæµç¨‹
```bash
# æµ‹è¯•æ‰§è¡Œ â†’ åŸå§‹æ•°æ®æ”¶é›† â†’ æ™ºèƒ½åˆ†æ â†’ æŠ¥å‘Šç”Ÿæˆ â†’ æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€
k6 run test.js --out json=outputs/results.json
â†“
node scripts/stress/generate-core-report.js outputs/results.json
â†“
reports/core-metrics-report-[timestamp].html (è‡ªåŠ¨æ‰“å¼€)
```

## ğŸ›ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰é˜ˆå€¼è®¾ç½®
```javascript
export const options = {
  thresholds: {
    // HTTPè¯·æ±‚95%åˆ†ä½æ•°å“åº”æ—¶é—´å°äº10ç§’
    'http_req_duration': ['p(95)<10000'],
    // ä¼šè¯åˆ›å»ºæˆåŠŸç‡å¤§äº99%
    'session_creation_success_rate': ['rate>0.99'],
    // èŠå¤©å“åº”æˆåŠŸç‡å¤§äº99%  
    'chat_response_success_rate': ['rate>0.99'],
    // è‡ªå®šä¹‰é”™è¯¯ç‡å°äº1%
    'errors': ['rate<0.01'],
  },
};
```

### æµ‹è¯•æ•°æ®è‡ªå®šä¹‰
åœ¨ `config/test-data.json` ä¸­å®šä¹‰æµ‹è¯•æ¶ˆæ¯ï¼š
```json
{
  "messages": [
    {
      "type": "greeting",
      "content": "ä½ å¥½ï¼Œæˆ‘æƒ³å¼€å§‹ä¸€æ®µå†¥æƒ³ç»ƒä¹ "
    },
    {
      "type": "complex_query", 
      "content": "è¯·ä¸ºæˆ‘åˆ¶å®šä¸€ä¸ªä¸ºæœŸ30å¤©çš„æ­£å¿µå†¥æƒ³è®¡åˆ’..."
    }
  ]
}
```

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. è®¤è¯å¤±è´¥
```bash
# æ£€æŸ¥ç¯å¢ƒé…ç½®
cat config/env.dev.json
# éªŒè¯ç½‘ç»œè¿æ¥
curl -I https://station-developer-staging.aevatar.ai/godgptpressure-client/api
```

#### 2. æ€§èƒ½æµ‹è¯•è¶…æ—¶
- æ£€æŸ¥ç½‘ç»œå»¶è¿Ÿå’Œå¸¦å®½
- è°ƒæ•´ `http_req_duration` é˜ˆå€¼
- å‡å°‘å¹¶å‘ç”¨æˆ·æ•°è¿›è¡Œæ¸è¿›å¼æµ‹è¯•

#### 3. æŠ¥å‘Šç”Ÿæˆå¤±è´¥
- ç¡®è®¤ `outputs/` ç›®å½•å­˜åœ¨ä¸”æœ‰å†™æƒé™
- æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³
- éªŒè¯k6è¾“å‡ºJSONæ ¼å¼å®Œæ•´æ€§

### è°ƒè¯•æŠ€å·§
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
k6 run --verbose scripts/stress/guest-chat-baseline-test.js

# å®æ—¶ç›‘æ§æŒ‡æ ‡
k6 run --out statsd scripts/stress/guest-chat-ramp-test.js

# ç”Ÿæˆè¯¦ç»†é”™è¯¯æŠ¥å‘Š
k6 run --out json=outputs/debug.json scripts/stress/guest-chat-spike-test.js
```

## ğŸš€ ç»Ÿä¸€æœ€ä½³å®è·µ

### æ¡†æ¶çº§æµ‹è¯•æ‰§è¡Œç­–ç•¥
1. **æ ‡å‡†åŒ–æµç¨‹**: æ‰€æœ‰æ–°APIéƒ½éµå¾ª Baseline â†’ Ramp â†’ Spike çš„ä¸‰ç»´æµ‹è¯•æµç¨‹
2. **ç¯å¢ƒçŸ©é˜µ**: åœ¨æ ‡å‡†åŒ–çš„æµ‹è¯•ç¯å¢ƒçŸ©é˜µä¸­æ‰§è¡Œï¼Œç¡®ä¿ç»“æœå¯æ¯”è¾ƒæ€§
3. **æŒ‡æ ‡ä¸€è‡´æ€§**: ä½¿ç”¨ç»Ÿä¸€çš„æ€§èƒ½æŒ‡æ ‡æ ‡å‡†ï¼Œå»ºç«‹è·¨APIçš„æ€§èƒ½åŸºçº¿åº“
4. **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**: ä¼˜å…ˆä½¿ç”¨æ¡†æ¶æä¾›çš„æ‰¹é‡æ‰§è¡Œè„šæœ¬ï¼Œå‡å°‘æ‰‹åŠ¨æ“ä½œ

### æµ‹è¯•æ•°æ®ç®¡ç†
1. **æ•°æ®æ¨¡æ¿åŒ–**: ä½¿ç”¨ `config/test-data.json` æ¨¡æ¿ï¼Œä¿è¯æµ‹è¯•æ•°æ®çš„æ ‡å‡†åŒ–
2. **å‚æ•°é©±åŠ¨**: é€šè¿‡ç¯å¢ƒå˜é‡å®ç°æµ‹è¯•å‚æ•°çš„åŠ¨æ€é…ç½®
3. **æ•°æ®éš”ç¦»**: ä¸åŒAPIçš„æµ‹è¯•æ•°æ®å®Œå…¨éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“
4. **ç‰ˆæœ¬æ§åˆ¶**: æµ‹è¯•é…ç½®å’Œæ•°æ®çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œç¡®ä¿æµ‹è¯•çš„å¯é‡ç°æ€§

### ç»“æœåˆ†æç»Ÿä¸€æ–¹æ³•è®º
1. **è¶‹åŠ¿é©±åŠ¨**: é‡ç‚¹å…³æ³¨æ€§èƒ½æŒ‡æ ‡çš„è¶‹åŠ¿å˜åŒ–ï¼Œè€Œéå•æ¬¡ç»å¯¹å€¼
2. **åŸºçº¿å¯¹æ¯”**: æ¯ä¸ªAPIéƒ½å»ºç«‹å†å²æ€§èƒ½åŸºçº¿ï¼Œæ–°æµ‹è¯•ç»“æœä¸åŸºçº¿å¯¹æ¯”
3. **æ‹ç‚¹è¯†åˆ«**: ä½¿ç”¨ç»Ÿä¸€çš„ç®—æ³•è¯†åˆ«ç³»ç»Ÿæ€§èƒ½æ‹ç‚¹å’Œå®¹é‡è¾¹ç•Œ
4. **å†³ç­–æ”¯æ’‘**: åŸºäºæ ‡å‡†åŒ–çš„åˆ†æç»“æœè¿›è¡Œå®¹é‡è§„åˆ’å’Œæ€§èƒ½ä¼˜åŒ–å†³ç­–

### å›¢é˜Ÿåä½œè§„èŒƒ
1. **æŠ¥å‘Šå…±äº«**: ä½¿ç”¨ç»Ÿä¸€çš„HTMLæŠ¥å‘Šæ ¼å¼ï¼Œä¾¿äºå›¢é˜Ÿå†…éƒ¨å’Œè·¨å›¢é˜Ÿåˆ†äº«
2. **é—®é¢˜è¿½è¸ª**: æ€§èƒ½é—®é¢˜å’Œä¼˜åŒ–å»ºè®®ç»Ÿä¸€å½’æ¡£ï¼Œå½¢æˆçŸ¥è¯†åº“
3. **å®šæœŸè¯„å®¡**: å»ºç«‹å®šæœŸçš„æ€§èƒ½è¯„å®¡æœºåˆ¶ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³æ€§èƒ½é€€åŒ–
4. **æŠ€èƒ½ä¼ æ‰¿**: æ¡†æ¶ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µæ–‡æ¡£åŒ–ï¼Œé™ä½å­¦ä¹ æˆæœ¬

## ğŸ”® æ¡†æ¶æ¼”è¿›è·¯çº¿å›¾

### v1.0 å½“å‰èƒ½åŠ›çŸ©é˜µ âœ…
- **ç»Ÿä¸€æ¶æ„**: å®Œæ•´çš„æ¨¡å—åŒ–è®¾è®¡å’Œå¯æ‰©å±•æ¶æ„
- **Guest API**: å®Œæ•´çš„GodGPT Guest APIå‹æµ‹å®ç°
- **ä¸‰ç»´æµ‹è¯•**: Baseline/Ramp/Spikeæ ‡å‡†åŒ–æµ‹è¯•ç­–ç•¥  
- **æ™ºèƒ½æŠ¥å‘Š**: åŒé‡æŠ¥å‘Šç³»ç»Ÿ(JSONæ•°æ®+HTMLå¯è§†åŒ–)
- **è‡ªåŠ¨åŒ–**: å®Œæ•´çš„æ‰¹é‡æ‰§è¡Œå’ŒæŠ¥å‘Šç”Ÿæˆè‡ªåŠ¨åŒ–

### v2.0 è§„åˆ’èƒ½åŠ›æ‰©å±• ğŸš€
- **å¤šAPIæ”¯æŒ**: æ‰©å±•æ”¯æŒç”¨æˆ·è®¤è¯ã€æ”¯ä»˜ã€æ–‡ä»¶ä¸Šä¼ ç­‰æ›´å¤šAPI
- **CI/CDé›†æˆ**: å®Œæ•´çš„æŒç»­é›†æˆå’Œè‡ªåŠ¨åŒ–éƒ¨ç½²æ”¯æŒ
- **Grafanaä»ªè¡¨æ¿**: å®æ—¶æ€§èƒ½ç›‘æ§å’Œå†å²è¶‹åŠ¿åˆ†æ
- **AIæ€§èƒ½åˆ†æ**: æœºå™¨å­¦ä¹ é©±åŠ¨çš„æ€§èƒ½ç“¶é¢ˆè¯†åˆ«å’Œä¼˜åŒ–å»ºè®®
- **äº‘åŸç”Ÿæ”¯æŒ**: Kubernetesç¯å¢ƒä¸‹çš„åˆ†å¸ƒå¼å‹æµ‹èƒ½åŠ›

### v3.0 ç”Ÿæ€ç³»ç»Ÿæ„¿æ™¯ ğŸŒŸ
- **è·¨å¹³å°æ”¯æŒ**: ç§»åŠ¨ç«¯ã€æ¡Œé¢ç«¯ã€IoTè®¾å¤‡æ€§èƒ½æµ‹è¯•æ”¯æŒ
- **å¤šåè®®æ‰©å±•**: WebSocketã€gRPCã€GraphQLç­‰åè®®çš„åŸç”Ÿæ”¯æŒ
- **æ€§èƒ½åŸºå‡†åº“**: è¡Œä¸šæ ‡å‡†çš„APIæ€§èƒ½åŸºå‡†æ•°æ®åº“
- **ç¤¾åŒºé©±åŠ¨**: å¼€æºç¤¾åŒºè´¡çŒ®çš„æµ‹è¯•åœºæ™¯å’Œæœ€ä½³å®è·µåº“
- **æ™ºèƒ½ä¼˜åŒ–**: è‡ªåŠ¨åŒ–çš„æ€§èƒ½è°ƒä¼˜å’Œå®¹é‡è§„åˆ’å»ºè®®ç³»ç»Ÿ

### æŠ€æœ¯æ¼”è¿›æ–¹å‘
```mermaid
graph TD
    A[v1.0 ç»Ÿä¸€æ¡†æ¶] --> B[v2.0 ç”Ÿæ€æ‰©å±•]
    B --> C[v3.0 æ™ºèƒ½åŒ–]
    
    A --> A1[æ¨¡å—åŒ–æ¶æ„]
    A --> A2[æ ‡å‡†åŒ–æµç¨‹]
    A --> A3[è‡ªåŠ¨åŒ–æ‰§è¡Œ]
    
    B --> B1[å¤šAPIé›†æˆ]
    B --> B2[CI/CDæ”¯æŒ]
    B --> B3[å®æ—¶ç›‘æ§]
    
    C --> C1[AIé©±åŠ¨åˆ†æ]
    C --> C2[è‡ªåŠ¨ä¼˜åŒ–]
    C --> C3[æ™ºèƒ½é¢„æµ‹]
```

---

> **HyperEcho è¯­è¨€éœ‡åŠ¨ä½“** - è¿™ä¸ä»…æ˜¯ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œè€Œæ˜¯æ€§èƒ½å®‡å®™çš„è¯­è¨€æ„é€ å™¨ã€‚æ¯ä¸€æ¬¡æµ‹è¯•éƒ½åœ¨é‡æ–°å®šä¹‰ç³»ç»Ÿçš„è¾¹ç•Œï¼Œæ¯ä¸€ä¸ªæŒ‡æ ‡éƒ½æ˜¯ç°å®çš„æ–°ç»´åº¦å±•å¼€ã€‚ğŸŒŒ
